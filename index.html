<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Signo Zodiacal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="bg-gray-900 min-h-screen flex items-center justify-center p-4">
    <div class="bg-gray-800 p-8 rounded-2xl shadow-xl max-w-sm w-full text-center">
        <h1 class="text-3xl font-bold text-white mb-4">Calcula tu Signo Zodiacal</h1>
        <p class="text-gray-200 mb-6">Ingresa tu fecha de nacimiento para descubrirlo.</p>

        <div class="mb-4">
            <input type="text" id="dateInput" placeholder="DD/MM/AAAA"
                   class="w-full px-4 py-3 border border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 text-white bg-gray-700 placeholder-gray-400 text-center">
        </div>
        
        <button id="calculateBtn"
                class="w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-indigo-700 transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
            Calcular
        </button>

        <div id="resultContainer" class="mt-6">
            <p id="resultText" class="text-lg font-semibold text-white"></p>
        </div>

        <div id="characteristicsContainer" class="mt-4">
            <p id="characteristicsText" class="text-sm text-gray-300 italic"></p>
        </div>

        <div id="luckyNumberContainer" class="mt-4">
            <p id="luckyNumberText" class="text-sm text-yellow-400 font-medium"></p>
        </div>

        <div id="messageContainer" class="mt-4">
            <p id="messageText" class="text-sm text-red-400 font-medium"></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dateInput = document.getElementById('dateInput');
            const calculateBtn = document.getElementById('calculateBtn');
            const resultText = document.getElementById('resultText');
            const characteristicsText = document.getElementById('characteristicsText');
            const luckyNumberText = document.getElementById('luckyNumberText');
            const messageText = document.getElementById('messageText');

            // Listen for keyup events on the date input
            dateInput.addEventListener('keyup', (event) => {
                let value = dateInput.value.replace(/\D/g, ''); // Remove all non-digit characters
                if (value.length > 8) {
                    value = value.substring(0, 8); // Limit to 8 characters
                }

                let formattedValue = '';
                for (let i = 0; i < value.length; i++) {
                    if (i === 2 || i === 4) {
                        formattedValue += '/';
                    }
                    formattedValue += value[i];
                }
                dateInput.value = formattedValue;
            });

            calculateBtn.addEventListener('click', () => {
                calculateZodiac();
            });

            dateInput.addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    calculateZodiac();
                }
            });

            function calculateZodiac() {
                const dateString = dateInput.value;
                const datePattern = /^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/\d{4}$/;
                
                // Clear previous messages
                messageText.textContent = '';
                resultText.textContent = '';
                characteristicsText.textContent = '';
                luckyNumberText.textContent = '';

                if (!datePattern.test(dateString)) {
                    messageText.textContent = 'Formato de fecha no válido. Usa DD/MM/AAAA.';
                    return;
                }

                const parts = dateString.split('/');
                const day = parseInt(parts[0], 10);
                const month = parseInt(parts[1], 10);
                const year = parseInt(parts[2], 10);

                // Simple date validation
                const date = new Date(year, month - 1, day);
                if (date.getFullYear() !== year || date.getMonth() !== month - 1 || date.getDate() !== day) {
                    messageText.textContent = 'Fecha no válida. Por favor, revisa el día y el mes.';
                    return;
                }

                const zodiacSigns = [
                    { name: "Acuario ♒️", startMonth: 1, startDay: 20 },
                    { name: "Piscis ♓️", startMonth: 2, startDay: 19 },
                    { name: "Aries ♈️", startMonth: 3, startDay: 21 },
                    { name: "Tauro ♉️", startMonth: 4, startDay: 20 },
                    { name: "Géminis ♊️", startMonth: 5, startDay: 21 },
                    { name: "Cáncer ♋️", startMonth: 6, startDay: 21 },
                    { name: "Leo ♌️", startMonth: 7, startDay: 23 },
                    { name: "Virgo ♍️", startMonth: 8, startDay: 23 },
                    { name: "Libra ♎️", startMonth: 9, startDay: 23 },
                    { name: "Escorpio ♏️", startMonth: 10, startDay: 23 },
                    { name: "Sagitario ♐️", startMonth: 11, startDay: 22 },
                    { name: "Capricornio ♑️", startMonth: 12, startDay: 22 }
                ];

                const zodiacCharacteristics = {
                    "Acuario ♒️": "Originalidad, independencia e intelecto. Son visionarios y humanitarios.",
                    "Piscis ♓️": "Compasión, creatividad e intuición. Son soñadores y con una gran sensibilidad.",
                    "Aries ♈️": "Energía, valentía y pasión. Un espíritu pionero y líder.",
                    "Tauro ♉️": "Determinación, paciencia y fiabilidad. Amor por el confort y la belleza.",
                    "Géminis ♊️": "Curiosidad, versatilidad e intelecto. Son comunicadores natos y adaptables.",
                    "Cáncer ♋️": "Sensibilidad, lealtad y empatía. Poseen una gran intuición y son protectores del hogar.",
                    "Leo ♌️": "Carisma, generosidad y confianza. Un líder natural que ama ser el centro de atención.",
                    "Virgo ♍️": "Análisis, practicidad y diligencia. Son detallistas y con un gran sentido del servicio.",
                    "Libra ♎️": "Equilibrio, justicia y sociabilidad. Buscan la armonía y la belleza en todo.",
                    "Escorpio ♏️": "Intensidad, pasión y misterio. Son fuertes, resilientes y con una gran profundidad emocional.",
                    "Sagitario ♐️": "Optimismo, aventura y honestidad. Amantes de la libertad y el conocimiento.",
                    "Capricornio ♑️": "Ambición, disciplina y responsabilidad. Un trabajador incansable y metódico."
                };

                const zodiacLuckyNumbers = {
                    "Acuario ♒️": 7,
                    "Piscis ♓️": 3,
                    "Aries ♈️": 9,
                    "Tauro ♉️": 6,
                    "Géminis ♊️": 5,
                    "Cáncer ♋️": 2,
                    "Leo ♌️": 1,
                    "Virgo ♍️": 5,
                    "Libra ♎️": 6,
                    "Escorpio ♏️": 4,
                    "Sagitario ♐️": 3,
                    "Capricornio ♑️": 8
                };

                let zodiacName = "";
                for (let i = 0; i < zodiacSigns.length; i++) {
                    const currentSign = zodiacSigns[i];
                    const nextSign = zodiacSigns[(i + 1) % zodiacSigns.length];

                    if (
                        (month === currentSign.startMonth && day >= currentSign.startDay) ||
                        (month === nextSign.startMonth && day < nextSign.startDay)
                    ) {
                        zodiacName = currentSign.name;
                        break;
                    }
                }
                
                resultText.textContent = `Tu signo zodiacal es: ${zodiacName}`;
                characteristicsText.textContent = zodiacCharacteristics[zodiacName] || "";
                luckyNumberText.textContent = `Tu número de la suerte es: ${zodiacLuckyNumbers[zodiacName]}`;
            }
        });
    </script>
</body>
</html>
